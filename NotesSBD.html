<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="NotesSBD.css" />
        <script src="script.js"></script>
        <title>SBD Notes</title>
    </head>
    <body>
        <div class="galeria">
            <b class="wrapper"
                >Zadanie 1: Urząd Stanu Cywilnego <br />
                Zaproponuj schemat bazy danych dla USC, w której będą
                przechowywane podstawowe dane o obywatelach: <br />
                • Dane personalne,<br />
                • Informacje o pokrewieństwie, <br />
                • Informacje o miejscu zamieszkania (musi być możliwość podziału
                obywateli ze względu na miasto, w którym mieszkają),<br />
                • Informacje o małżeństwach, <br />
                • Każdy obywatel może zawrzeć wiele związków małżeńskich,<br />
                • W bazie danych powinny być przechowywane informacje o osobach
                zmarłych.</b
            >
            <img src="USC.png" alt="Zdjęcie 1" class="wrapper" />
            <b class="wrapper"
                >Zadanie 2: Ewidencja klientów <br />
                Firma potrzebuje bazy danych służącej do ewidencji klientów
                (imię, nazwisko, adres). Każdy klient jest obsługiwany, w danym
                momencie, przez jednego przedstawiciela (imię, nazwisko),
                przedstawiciel może obsługiwać wielu klientów. Przedstawiciele
                na przestrzeni lat mogą się zmieniać. Chcemy przechowywać
                informację dotyczące historii przedstawicieli danego klienta.
                Każdy przedstawiciel należy do jednego z wielu oddziałów firmy.
                Każdy klient ma określony status (np. aktywny klient, dawny
                klient, potencjalny itp.). W bazie musimy przechowywać również
                informacje o kontaktach z klientem. Musimy pamiętać datę
                kontaktu, opis i typ kontaktu. Typem może być np. e-mail,
                telefon, fax itp. Kontakt może nawiązać tylko i wyłącznie
                przedstawiciel przypisany do klienta.</b
            >
            <img src="EwidencjaKlientow.png" alt="Zdjęcie 2" class="wrapper" />
            <b class="wrapper"
                >Zadanie 3: Klinika weterynaryjna <br />
                Klinika weterynaryjna potrzebuje bazy danych rejestrującej
                klientów, ich zwierzęta, wizyty, usługi (według kategorii) oraz
                weterynarzy przyjmujących wizyty. Jeden klient może mieć kilka
                zwierząt. Wizyta dotyczy jednego zwierzęcia, jednego weterynarza
                oraz jednej lub więcej usług.</b
            >
            <img src="KlinikaWet.png" alt="Zdjęcie 3" class="wrapper" />
            <b class="wrapper"
                >Zadanie 4: Konferencje <br />
                Zaprojektuj diagram związków encji dla firmy, która zajmuje się
                organizacją konferencji. Firma chce przechowywać dane dotyczące
                klientów (firm), dane osób wraz z ich przynależnością do firmy
                (załóżmy, że osoba pracuje w jednej firmie), dane dotyczące
                organizowanych konferencji (data, temat). Zakładamy, że
                konferencję organizuje jedna firma. Musimy przechowywać również
                informacje o prelegentach (osobach z firmy) – na każdej
                konferencji jest wielu prelegentów. Dla każdego prelegenta
                musimy pamiętać tytuł odczytu.</b
            >
            <img src="Konferencje.png" alt="Zdjęcie 4" class="wrapper" />
            <b class="wrapper">
                Zadanie 5: Reakcje chemiczne <br />
                Twoim zadaniem jest zaproponowanie diagramu związków encji dla
                bazy danych, która służy do opisywania reakcji chemicznych.
                Wymagane elementy bazy to: <br />
                Tabela przedstawiająca dostępne w laboratorium chemicznym
                pierwiastki. Każdy pierwiastek powinien mieć określoną nazwę,
                symbol, opis właściwości oraz ilość (masę) dostępną w
                laboratorium. <br />
                Tabela opisująca związki chemiczne. Dla każdego związku powinny
                być dostarczone informacje takie jak nazwa, symbol chemiczny
                oraz opis i ilość dostępna w laboratorium.<br />
                Dodatkowo, każda reakcja chemiczna przeprowadzona w laboratorium
                powinna być opisana w bazie. Opis powinien zawierać nazwę
                reakcji, składniki początkowe (czyli użyte pierwiastki lub
                związki chemiczne) wraz z ich ilościami (masami), produkty
                powstałe w wyniku reakcji oraz datę wykonania tej reakcji. W
                reakcji może uczestniczyć zarówno jeden, jak i wiele
                pierwiastków lub związków chemicznych.
            </b>
            <img src="ReakcjeChemiczne.png" alt="Zdjęcie 5" class="wrapper" />
            <b class="wrapper"
                >Zadanie 6: Szlaki <br />
                Zaproponować diagram związków encji bazy danych dotyczących
                wycieczek górskich. Mamy przechowywać informację o szczytach
                górskich (ich nazwie, wysokości względnej i bezwzględnej), o
                schroniskach i szlakach je łączących. Chcemy wiedzieć jaki kolor
                ma szlak i jaki jest czas wejścia i zejścia tym szlakiem. Baza
                danych musi dawać odpowiedź na pytanie ile czasu będzie trwała
                wycieczka z danego schroniska na dany szczyt, ewentualnie przez
                inne schronisko i inny szczyt; powrót ewentualnie do innego
                schroniska.</b
            >
            <img src="Szlaki1.png" alt="Zdjęcie 6" class="wrapper" />
            <img src="Szlaki2.png" alt="Zdjęcie 7" class="wrapper" />
            <b class="wrapper"
                >1. Znajdź pracowników z pensją równą minimalnemu zarobkowi w
                firmie. <br />
                2. Znajdź wszystkich pracowników zatrudnionych na tym samym
                stanowisku, co BLAKE. <br />
                3. Znajdź pracowników, których płace wynoszą tyle, ile najniższe
                zarobki w poszczególnych departamentach. <br />
                4. Stosując kwantyfikator ANY wybierz pracowników zarabiających
                powyżej najniższego zarobku z departamentu 30 (czyli więcej od
                dowolnego pracownika z departamentu 30). <br />
                5. Stosując kwantyfikator ALL znajdź pracowników, których
                zarobki są wyższe od pensji każdego pracownika z departamentu 30
                (czyli większe od najwyższej pensji w departamencie 30). <br />
                6. Wybierz departamenty, których średnie zarobki przekraczają
                średni zarobek departamentu 30.<br />
                7. Znajdź pracowników, którzy zarabiają najwięcej w swoich
                departamentach.<br />
                8. Znajdź za pomocą predykatu EXISTS pracowników, którzy
                posiadają podwładnych.<br />
                9. Znajdź pracowników, których departament nie występuje w
                tabeli DEPT.<br />
                10. Podaj nazwisko, pensję i nazwę departamentu pracowników,
                których płaca przekracza średnią ich grup zarobkowych. <br />
                11. Znajdź pracowników zarabiających minimalną pensję w ich
                grupach zarobkowych. Wynikowe rekordy uporządkuj według
                malejących grup zarobkowych.<br />
                12. Wypisz nazwisko, płacę, numer departamentu i średnią
                zarobków w departamencie (w jednym wyniku!) dla pracowników,
                których zarobki przekraczają średnią ich departamentów
                (rozwiązanie nie wymaga użycia korelacji).</b
            >
            <b class="wrapper"
                >--1<br />
                SELECT * FROM emp e WHERE e.sal = (SELECT MIN(sal) FROM emp);<br />
                --2<br />
                SELECT * FROM emp e WHERE e.job = ( SELECT job FROM emp WHERE
                ename = 'BLAKE'); <br />--3 <br />SELECT * FROM emp e WHERE
                e.sal IN (SELECT MIN(sal) FROM emp GROUP BY deptno);
                <br />--4<br />
                SELECT * FROM emp e WHERE e.sal > ANY(SELECT sal FROM emp WHERE
                deptno=30); SELECT * FROM emp e WHERE e.sal > (SELECT MIN(sal)
                FROM emp WHERE deptno=30); <br />--5 <br />SELECT * FROM emp e
                WHERE e.sal > ALL(SELECT sal FROM emp WHERE deptno=30); SELECT *
                FROM emp e WHERE e.sal > (SELECT MAX(sal) FROM emp WHERE deptno
                = 30);<br />
                --6 <br />SELECT d.dname FROM emp e JOIN dept d ON d.deptno =
                e.deptno GROUP BY e.deptno, d.dname HAVING AVG(e.sal) > (SELECT
                AVG(e2.sal) FROM emp e2 WHERE e2.deptno = 30);<br />
                --7 <br />SELECT e.* FROM emp e WHERE e.sal = (SELECT
                MAX(e2.sal) FROM emp e2 WHERE e2.deptno = e.deptno);
                <br />--8<br />
                SELECT * FROM emp e WHERE EXISTS (SELECT 1 FROM emp e2 WHERE
                e2.mgr = e.empno);<br />
                --9 <br />SELECT * FROM emp e WHERE NOT EXISTS (SELECT 1 FROM
                dept d WHERE d.deptno = e.deptno); --bez korelacji SELECT * FROM
                emp e WHERE e.deptno NOT IN (SELECT deptno FROM dept);
                <br />--10<br />
                SELECT e.ename, e.sal, e.deptno, s.grade FROM emp e JOIN
                salgrade s ON e.sal BETWEEN s.losal AND s.hisal WHERE e.sal >
                (SELECT AVG(e2.sal) FROM emp e2 JOIN salgrade s2 ON e2.sal
                BETWEEN s2.losal AND s2.hisal WHERE s2.grade = s.grade);
                <br />--11 <br />SELECT e.ename, e.sal, s.grade FROM emp e JOIN
                salgrade s ON e.sal BETWEEN s.losal AND s.hisal WHERE e.sal =
                (SELECT MIN(e2.sal) FROM emp e2 JOIN salgrade s2 ON e2.sal
                BETWEEN s2.losal AND s2.hisal WHERE s2.grade = s.grade) ORDER BY
                s.grade;<br />
                --12 <br />SELECT e.ename, e.sal, e.deptno, sub.av "Srednia w
                departamencie" FROM (SELECT ROUND(AVG(e2.sal),2) av, e2.deptno
                FROM emp e2 GROUP BY e2.deptno) sub JOIN emp e on sub.deptno =
                e.deptno WHERE e.sal > sub.av;
            </b>
        </div>
    </body>
</html>
